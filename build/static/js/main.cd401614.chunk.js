(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{29:function(e,a,t){e.exports=t(61)},34:function(e,a,t){},35:function(e,a,t){},53:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),n=t(27),s=t.n(n),o=(t(34),t(8));t(35);var c=function(){return l.a.createElement("nav",null,l.a.createElement("div",{className:"row col-12 d-flex justify-content-center text-white"},l.a.createElement("span",{className:"h3"},"Register")))},i=t(10),m=t(7),u=t(13),d=t.n(u),p=(t(53),t(1));var h=Object(p.f)((function(e){var a=Object(r.useState)({email:"",password:"",successMessage:null}),t=Object(o.a)(a,2),n=t[0],s=t[1],c=function(e){var a=e.target,t=a.id,r=a.value;s((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(i.a)({},t,r))}))},u=function(){e.updateTitle("Home"),e.history.push("/home")};return l.a.createElement("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:n.email,onChange:c}),l.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:n.password,onChange:c})),l.a.createElement("div",{className:"form-check"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(a){a.preventDefault();var t={email:n.email,password:n.password};d.a.post("http://localhost:4000/api/login",t).then((function(a){200===a.data.code?(s((function(e){return Object(m.a)(Object(m.a)({},e),{},{successMessage:"Login successful. Redirecting to home page.."})})),u(),e.showError(null)):204===a.data.code?e.showError("Username and password do not match"):e.showError("Username does not exists")})).catch((function(e){console.log(e)}))}},"Submit")),l.a.createElement("div",{className:"alert alert-success mt-2",style:{display:n.successMessage?"block":"none"},role:"alert"},n.successMessage),l.a.createElement("div",{className:"registerMessage"},l.a.createElement("span",null,"Dont have an account? "),l.a.createElement("span",{className:"loginText",onClick:function(){return e.history.push("/register"),void e.updateTitle("Register")}},"Register")))}));t(59);var E=Object(p.f)((function(e){var a=Object(r.useState)({email:"",password:"",confirmPassword:"",successMessage:null}),t=Object(o.a)(a,2),n=t[0],s=t[1],c=function(e){var a=e.target,t=a.id,r=a.value;s((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(i.a)({},t,r))}))},u=function(){e.updateTitle("Home"),e.history.push("/home")};return l.a.createElement("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:n.email,onChange:c}),l.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:n.password,onChange:c})),l.a.createElement("div",{className:"form-group text-left"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Confirm Password"),l.a.createElement("input",{type:"password",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",value:n.confirmPassword,onChange:c})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(a){a.preventDefault(),n.password===n.confirmPassword?function(){if(n.email.length&&n.password.length){e.showError(null);var a={email:n.email,password:n.password};d.a.post("http://localhost:4000/api/register",a).then((function(a){200===a.data.code?(s((function(e){return Object(m.a)(Object(m.a)({},e),{},{successMessage:"Registration successful. Redirecting to home page.."})})),u(),e.showError(null)):e.showError("Some error ocurred")})).catch((function(e){console.log(e)}))}else e.showError("Please enter valid username and password")}():e.showError("Passwords do not match")}},"Register")),l.a.createElement("div",{className:"alert alert-success mt-2",style:{display:n.successMessage?"block":"none"},role:"alert"},n.successMessage),l.a.createElement("div",{className:"mt-2"},l.a.createElement("span",null,"Already have an account? "),l.a.createElement("span",{className:"loginText",onClick:function(){return e.updateTitle("Login"),void e.history.push("/login")}},"Login here")))}));var f=function(e){return l.a.createElement("div",{className:"mt-2"},"Home page content")},g=t(12);t(60);var v=function(e){var a=Object(r.useState)("none"),t=Object(o.a)(a,2),n=t[0],s=t[1],c=function(){s("none"),e.hideError(null)};return Object(r.useEffect)((function(){null!==e.errorMessage?s("block"):c()})),l.a.createElement("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:n}},l.a.createElement("div",{className:"d-flex alertMessage"},l.a.createElement("span",null,e.errorMessage),l.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c()}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))};var w=function(){var e=Object(r.useState)(null),a=Object(o.a)(e,2),t=a[0],n=a[1],s=Object(r.useState)(null),i=Object(o.a)(s,2),m=i[0],u=i[1];return l.a.createElement(g.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"App-header"},l.a.createElement(c,{title:t}),l.a.createElement("div",{className:"container d-flex align-items-center flex-column"},l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/",exact:!0},l.a.createElement(E,{showError:u,updateTitle:n})),l.a.createElement(p.a,{path:"/register"},l.a.createElement(E,{showError:u,updateTitle:n})),l.a.createElement(p.a,{path:"/login"},l.a.createElement(h,{showError:u,updateTitle:n})),l.a.createElement(p.a,{path:"/home"},l.a.createElement(f,null))),l.a.createElement(v,{errorMessage:m,hideError:u})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.cd401614.chunk.js.map