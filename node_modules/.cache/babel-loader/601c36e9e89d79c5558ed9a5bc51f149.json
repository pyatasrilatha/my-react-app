{"ast":null,"code":"import _defineProperty from\"/Users/psrilat2/git/POC/my-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/psrilat2/git/POC/my-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/psrilat2/git/POC/my-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import'./RegistrationForm.css';import{API_BASE_URL}from'../../constants/apiContants';import{withRouter}from\"react-router-dom\";function RegistrationForm(props){var _useState=useState({email:\"\",password:\"\",confirmPassword:\"\",successMessage:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},id,value));});};var sendDetailsToServer=function sendDetailsToServer(){if(state.email.length&&state.password.length){props.showError(null);var payload={\"email\":state.email,\"password\":state.password};axios.post(API_BASE_URL+'register',payload).then(function(response){if(response.data.code===200){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{'successMessage':'Registration successful. Redirecting to home page..'});});redirectToHome();props.showError(null);}else{props.showError(\"Some error ocurred\");}}).catch(function(error){console.log(error);});}else{props.showError('Please enter valid username and password');}};var redirectToHome=function redirectToHome(){props.updateTitle('Home');props.history.push('/home');};var redirectToLogin=function redirectToLogin(){props.updateTitle('Login');props.history.push('/login');};var handleSubmitClick=function handleSubmitClick(e){e.preventDefault();if(state.password===state.confirmPassword){sendDetailsToServer();}else{props.showError('Passwords do not match');}};return/*#__PURE__*/React.createElement(\"div\",{className:\"card col-12 col-lg-4 login-card mt-2 hv-center\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group text-left\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputEmail1\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\",value:state.email,onChange:handleChange}),/*#__PURE__*/React.createElement(\"small\",{id:\"emailHelp\",className:\"form-text text-muted\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group text-left\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputPassword1\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Password\",value:state.password,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group text-left\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"exampleInputPassword1\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",id:\"confirmPassword\",placeholder:\"Confirm Password\",value:state.confirmPassword,onChange:handleChange})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleSubmitClick},\"Register\")),/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success mt-2\",style:{display:state.successMessage?'block':'none'},role:\"alert\"},state.successMessage),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(\"span\",null,\"Already have an account? \"),/*#__PURE__*/React.createElement(\"span\",{className:\"loginText\",onClick:function onClick(){return redirectToLogin();}},\"Login here\")));}export default withRouter(RegistrationForm);","map":{"version":3,"sources":["/Users/psrilat2/git/POC/my-react-app/src/components/RegistrationForm/RegistrationForm.js"],"names":["React","useState","axios","API_BASE_URL","withRouter","RegistrationForm","props","email","password","confirmPassword","successMessage","state","setState","handleChange","e","target","id","value","prevState","sendDetailsToServer","length","showError","payload","post","then","response","data","code","redirectToHome","catch","error","console","log","updateTitle","history","push","redirectToLogin","handleSubmitClick","preventDefault","display"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport './RegistrationForm.css';\nimport {API_BASE_URL} from '../../constants/apiContants';\nimport { withRouter } from \"react-router-dom\";\n\nfunction RegistrationForm(props) {\n    const [state , setState] = useState({\n        email : \"\",\n        password : \"\",\n        confirmPassword: \"\",\n        successMessage: null\n    })\n    const handleChange = (e) => {\n        const {id , value} = e.target   \n        setState(prevState => ({\n            ...prevState,\n            [id] : value\n        }))\n    }\n    const sendDetailsToServer = () => {\n        if(state.email.length && state.password.length) {\n            props.showError(null);\n            const payload={\n                \"email\":state.email,\n                \"password\":state.password,\n            }\n            axios.post(API_BASE_URL+'register', payload)\n                .then(function (response) {\n                    if(response.data.code === 200){\n                        setState(prevState => ({\n                            ...prevState,\n                            'successMessage' : 'Registration successful. Redirecting to home page..'\n                        }))\n                        redirectToHome();\n                        props.showError(null)\n                    } else{\n                        props.showError(\"Some error ocurred\");\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });    \n        } else {\n            props.showError('Please enter valid username and password')    \n        }\n        \n    }\n    const redirectToHome = () => {\n        props.updateTitle('Home')\n        props.history.push('/home');\n    }\n    const redirectToLogin = () => {\n        props.updateTitle('Login')\n        props.history.push('/login'); \n    }\n    const handleSubmitClick = (e) => {\n        e.preventDefault();\n        if(state.password === state.confirmPassword) {\n            sendDetailsToServer()    \n        } else {\n            props.showError('Passwords do not match');\n        }\n    }\n    return(\n        <div className=\"card col-12 col-lg-4 login-card mt-2 hv-center\">\n            <form>\n                <div className=\"form-group text-left\">\n                <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                <input type=\"email\" \n                       className=\"form-control\" \n                       id=\"email\" \n                       aria-describedby=\"emailHelp\" \n                       placeholder=\"Enter email\" \n                       value={state.email}\n                       onChange={handleChange}\n                />\n                <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n                </div>\n                <div className=\"form-group text-left\">\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\n                    <input type=\"password\" \n                        className=\"form-control\" \n                        id=\"password\" \n                        placeholder=\"Password\"\n                        value={state.password}\n                        onChange={handleChange} \n                    />\n                </div>\n                <div className=\"form-group text-left\">\n                    <label htmlFor=\"exampleInputPassword1\">Confirm Password</label>\n                    <input type=\"password\" \n                        className=\"form-control\" \n                        id=\"confirmPassword\" \n                        placeholder=\"Confirm Password\"\n                        value={state.confirmPassword}\n                        onChange={handleChange} \n                    />\n                </div>\n                <button \n                    type=\"submit\" \n                    className=\"btn btn-primary\"\n                    onClick={handleSubmitClick}\n                >\n                    Register\n                </button>\n            </form>\n            <div className=\"alert alert-success mt-2\" style={{display: state.successMessage ? 'block' : 'none' }} role=\"alert\">\n                {state.successMessage}\n            </div>\n            <div className=\"mt-2\">\n                <span>Already have an account? </span>\n                <span className=\"loginText\" onClick={() => redirectToLogin()}>Login here</span> \n            </div>\n            \n        </div>\n    )\n}\n\nexport default withRouter(RegistrationForm);"]},"metadata":{},"sourceType":"module"}